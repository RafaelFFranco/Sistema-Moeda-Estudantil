<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8"/>
  <title>Minhas Vantagens</title>
  <link rel="stylesheet" th:href="@{/css/styles.css}">
</head>
<body>
  <div th:replace="fragments/header :: header"></div>

  <div class="container">
    <div class="breadcrumbs">
      <a th:href="@{/}">Home</a> <span>/</span> <span>Minhas Vantagens</span>
    </div>

    <div class="page-header">
      <h2 style="margin:0; font-size:28px; color: var(--gray-900);">Minhas Vantagens</h2>
      <a th:href="@{/vantagens/nova}" class="btn btn-primary">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 5v14M5 12h14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
        Nova Vantagem
      </a>
    </div>

    <!-- Mensagens de feedback -->
    <div th:if="${mensagem}" th:classappend="${tipoMensagem == 'success' ? 'alert alert-success' : 'alert alert-error'}" 
         style="margin-bottom: var(--spacing-md); padding: var(--spacing-md); border-radius: var(--radius-sm);"
         th:text="${mensagem}">
    </div>

    <section class="card">
      <div th:if="${vantagens == null || vantagens.isEmpty()}">
        <p class="small muted">Nenhuma vantagem cadastrada ainda.</p>
        <a th:href="@{/vantagens/nova}" class="btn btn-primary" style="margin-top: var(--spacing-md);">
          Cadastrar Primeira Vantagem
        </a>
      </div>

      <table th:if="${vantagens != null && !vantagens.isEmpty()}">
        <thead>
          <tr>
            <th>ID</th>
            <th>Nome</th>
            <th>Descrição</th>
            <th>Custo (moedas)</th>
            <th>Ações</th>
          </tr>
        </thead>
        <tbody>
          <tr th:each="v : ${vantagens}">
            <td th:text="${v.id}">1</td>
            <td th:text="${v.nome}">Nome</td>
            <td th:text="${v.descricao}">Descrição</td>
            <td th:text="${v.custoMoedas}">0</td>
            <td class="td-actions">
              <a class="action-link edit" th:href="@{|/vantagens/editar/${v.id}|}" title="Editar">
                <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M3 21v-3.75L14.06 6.19l3.75 3.75L6.75 21H3z" stroke="#1E40AF" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M20.71 7.04a1 1 0 0 0 0-1.41l-2.34-2.34a1 1 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z" stroke="#1E40AF" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                Editar
              </a>
              <a class="action-link delete confirm-delete" th:href="@{|/vantagens/deletar/${v.id}|}" title="Excluir">
                <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M3 6h18" stroke="#EF4444" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M19 6l-1 14a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2L5 6" stroke="#EF4444" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M10 11v6" stroke="#EF4444" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M14 11v6" stroke="#EF4444" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M9 6V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v2" stroke="#EF4444" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                Excluir
              </a>
            </td>
          </tr>
        </tbody>
      </table>
    </section>
  </div>

  <div th:replace="fragments/footer :: footer"></div>
  <script src="/js/main.js"></script>
</body>
</html>

